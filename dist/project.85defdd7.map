{"version":3,"sources":["src/shapes/base.js","src/shapes/circle.js","src/shapes/triangle.js","src/app.js","src/index.js","project/variable.js","src/util.js","project/layers/layer_triangle.js","project/layers/layer_triangle2.js","project/layers/layer_circle.js","project/index.js"],"names":["Shape","data","render","tick","start","duration","effect","rotate","init","proxy","target","Object","keys","forEach","key","defineProperty","get","set","val","Circle","x","y","radius","color","distance","origin","initRender","ctx","fillStyle","arc","Math","PI","fill","Triangle","topAngle","length","moveTo","lineTo","tan","App","container","remain","loop","shapes","intactCanvas","intactCtx","canvas","copies","startPoint","initCanvas","initIntactCanvas","document","createElement","style","backgroundColor","appendChild","width","height","ctxIntact","getContext","frame","t","clearRect","i","progresstion","draw","drawIntact","requestAnimationFrame","performance","now","drawImage","translate","shape","beginPath","globalCompositeOperation","push","global","colors","effects","circle","triangle","isObj","obj","prototype","toString","call","isArray","arr","isComplecated","randomIn","min","max","floor","random","randomInDouble","getLength","getAngle","getDuration","getColor","getEffect","generate","t1","p","value","sqrt","t2","t3","cos","getRadius","index","pow","app","querySelector","setInterval","add","run"],"mappings":"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","file":"project.85defdd7.map","sourceRoot":"..","sourcesContent":["class Shape {\r\n  constructor({ data, render, tick, start, duration, effect, rotate }) {\r\n    this.data = data;\r\n    this.render = render;\r\n    this.tick = tick;\r\n    this.start = start;\r\n    this.duration = duration;\r\n    this.effect = effect;\r\n    this.rotate = rotate;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.proxy(this, this.data);\r\n  }\r\n\r\n  proxy(target, data) {\r\n    Object.keys(data).forEach((key) => {\r\n      Object.defineProperty(target, key, {\r\n        get() {\r\n          return data[key];\r\n        },\r\n        set(val) {\r\n          data[key] = val;\r\n        },\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport { Shape };\r\n","import { Shape } from \"./base\";\r\n\r\nclass Circle extends Shape {\r\n  constructor({ x, y, radius, tick, start, duration, color, distance, effect, rotate }) {\r\n    super({\r\n      data: {\r\n        origin: {\r\n          x,\r\n          y,\r\n          color\r\n        },\r\n        x,\r\n        y,\r\n        color,\r\n        distance\r\n      },\r\n      start,\r\n      duration,\r\n      effect,\r\n      tick,\r\n      rotate\r\n    });\r\n\r\n    this.origin.radius = radius;\r\n    this.radius = radius;\r\n    this.initRender();\r\n  }\r\n\r\n  initRender() {\r\n    this.render = (ctx) => {\r\n      ctx.fillStyle = this.color;\r\n      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\r\n      ctx.fill();\r\n    };\r\n  }\r\n}\r\n\r\nexport { Circle };\r\n","import { Shape } from \"./base\";\r\n\r\nclass Triangle extends Shape {\r\n  constructor({ x, y, tick, start, duration, color, distance, effect, topAngle, length, rotate }) {\r\n    super({\r\n      data: {\r\n        origin: {\r\n          x,\r\n          y,\r\n          color,\r\n          topAngle\r\n        },\r\n        x,\r\n        y,\r\n        color,\r\n        distance,\r\n        topAngle\r\n      },\r\n      start,\r\n      duration,\r\n      effect,\r\n      tick,\r\n      rotate\r\n    });\r\n\r\n    this.origin.length = length;\r\n    this.length = length;\r\n\r\n    this.initRender();\r\n  }\r\n\r\n  initRender() {\r\n    this.render = (ctx) => {\r\n      ctx.fillStyle = this.color;\r\n      ctx.moveTo(this.x - this.length / 2, this.y);\r\n      ctx.lineTo(this.x + this.length / 2, this.y);\r\n      ctx.lineTo(\r\n        this.x,\r\n        this.y - this.length / 2 / Math.tan(this.topAngle / 2)\r\n      );\r\n      ctx.fill();\r\n    };\r\n  }\r\n}\r\n\r\nexport { Triangle };\r\n","class App {\r\n  constructor({ length, container, remain = false, loop = false }) {\r\n    this.length = length;\r\n    this.container = container;\r\n    this.remain = remain;\r\n    this.loop = loop;\r\n    this.shapes = [];\r\n    // full pic\r\n    this.intactCanvas;\r\n    this.intactCtx;\r\n    // single element\r\n    this.canvas;\r\n    this.ctx;\r\n    this.copies;\r\n    this.startPoint;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.initCanvas();\r\n    this.initIntactCanvas();\r\n  }\r\n\r\n  initIntactCanvas() {\r\n    const intactCanvas = (this.intactCanvas = document.createElement(\"canvas\"));\r\n    intactCanvas.style.backgroundColor = \"#0e0d51\";\r\n    this.container.appendChild(intactCanvas);\r\n    this.intactCanvas.width = this.length * 2;\r\n    this.intactCanvas.height = this.length * 2;\r\n    this.ctxIntact = intactCanvas.getContext(\"2d\");\r\n  }\r\n\r\n  initCanvas() {\r\n    const canvas = (this.canvas = document.createElement(\"canvas\"));\r\n    canvas.height = this.length;\r\n    canvas.width = this.length;\r\n    this.container.appendChild(canvas);\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n  }\r\n\r\n  run() {\r\n    const frame = (t) => {\r\n      if (!this.remain) {\r\n        this.ctx.clearRect(0, 0, this.length, this.length);\r\n      }\r\n\r\n      this.ctxIntact.clearRect(0, 0, this.intactCanvas.width, this.intactCanvas.height);\r\n\r\n      for (let i of this.shapes) {\r\n        // caculate time\r\n        const progresstion = (t - i.start) / i.duration;\r\n        if (progresstion <= 1) {\r\n          i.tick(progresstion);\r\n        } else {\r\n          // this.shapes.splice(this.shapes.indexOf(i), 1);\r\n        }\r\n\r\n        this.draw(i);\r\n      }\r\n      \r\n      this.drawIntact();\r\n      requestAnimationFrame(frame);\r\n    };\r\n\r\n    frame(performance.now());\r\n  }\r\n\r\n  drawIntact() {\r\n    this.ctxIntact.drawImage(this.canvas, this.length, this.length);\r\n\r\n    for (let i = 0; i < 3; i++) {\r\n      this.ctxIntact.translate(this.length, this.length);\r\n      this.ctxIntact.rotate((Math.PI * 1) / 2);\r\n      this.ctxIntact.translate(-this.length, -this.length);\r\n\r\n      this.ctxIntact.drawImage(this.canvas, this.length, this.length);\r\n    }\r\n\r\n    this.ctxIntact.translate(this.length, this.length);\r\n    this.ctxIntact.rotate((Math.PI * 1) / 2);\r\n    this.ctxIntact.translate(-this.length, -this.length);\r\n  }\r\n\r\n  draw(shape) {\r\n    this.ctx.beginPath();\r\n    this.ctx.globalCompositeOperation = shape.effect\r\n      ? shape.effect\r\n      : \"source-over\";\r\n\r\n    if (shape.rotate) {\r\n      this.ctx.rotate(shape.rotate);\r\n    }\r\n    shape.render(this.ctx);\r\n\r\n    if (shape.rotate) this.ctx.rotate(-shape.rotate);\r\n  }\r\n\r\n  add(...shapes) {\r\n    this.shapes.push(...shapes);\r\n  }\r\n}\r\n\r\nexport { App };\r\n","import { Shape } from './shapes/base';\r\nimport { Circle } from \"./shapes/circle\";\r\nimport { Triangle } from \"./shapes/triangle\";\r\n\r\nimport { App } from \"./app\";\r\n\r\nexport { Shape, Circle, Triangle, App };","const global = {\r\n    length: 500\r\n}\r\n\r\nconst colors = ['#0e0d51', '#ffffff', '#005acf', '#01c8fa', '#fd0908', '#02b25e', '#fecf11', '#80809c', '#fce593', '#79d7f3'];\r\n\r\nconst effects = {\r\n    circle: [ 'lighter', 'xor'],\r\n    triangle: ['source-over', 'xor']\r\n}\r\nexport {global, colors, effects}","function isObj(obj) {\r\n    return Object.prototype.toString.call(obj) === '[object Object]';\r\n}\r\n\r\nfunction isArray(arr) {\r\n    return Object.prototype.toString.call(arr) === '[object Array]';\r\n}\r\n\r\nfunction isComplecated(obj) {\r\n    return obj instanceof Object;\r\n}\r\n\r\nfunction randomIn(min, max) {\r\n    return function() {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n}\r\n\r\nfunction randomInDouble(min, max) {\r\n    return function() {\r\n        return (Math.random() * (max - min + 1) + min);\r\n    }\r\n}\r\n\r\nexport {randomIn, randomInDouble}","import { Triangle } from '../../src/shapes/triangle';\r\nimport { global, colors, effects } from '../variable';\r\nimport { randomIn, randomInDouble } from '../../src/util';\r\n\r\nconst getLength = randomIn(150, 400);\r\nconst getAngle = randomInDouble(Math.PI / 180 * 10, Math.PI / 180 * 20);\r\nconst getDuration = randomIn(5000, 15000);\r\nfunction getColor() {\r\n  return colors[randomIn(0, colors.length - 1)()];\r\n}\r\nfunction getEffect() {\r\n  return effects.triangle[randomIn(0, effects.triangle.length - 1)()];\r\n}\r\n\r\n\r\nfunction generate() {\r\n  // const length = getLength();\r\n  const length = 300;\r\n  const topAngle = Math.PI / 180 * 120;\r\n  const color = getColor();\r\n  const start = performance.now();\r\n  // const duration = getDuration();\r\n  const duration = 19000;\r\n  const effect = getEffect();\r\n  const height = 1/2 * length / Math.tan(1/2 * topAngle);\r\n\r\n  const t1 = new Triangle({\r\n    length,\r\n    color,\r\n    rotate: Math.PI / 180 * 90,\r\n    distance: {\r\n      y: - global.length - height,\r\n      topAngle: - topAngle\r\n    },\r\n    x: 0,\r\n    y: height,\r\n    topAngle,\r\n    effect,\r\n    tick(p) {\r\n      const value = Math.sqrt(p, 2);\r\n      this.y = this.origin.y + this.distance.y * value;\r\n      this.topAngle = this.origin.topAngle + this.distance.topAngle * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  const t2 = new Triangle({\r\n    length,\r\n    color,\r\n    distance: {\r\n      y: -global.length * Math.sqrt(2, 2) - height,\r\n      topAngle: - topAngle\r\n    },\r\n    x: 0,\r\n    y: height,\r\n    rotate: Math.PI / 180 * 135,\r\n    topAngle,\r\n    effect,\r\n    tick(p) {\r\n      const value = Math.sqrt(p, 2);\r\n      this.y = this.origin.y + this.distance.y * value;\r\n      this.topAngle = this.origin.topAngle + this.distance.topAngle * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  const t3 = new Triangle({\r\n    length,\r\n    color,\r\n    rotate: Math.PI / 180 * 180,\r\n    distance: {\r\n      y: -global.length - height,\r\n      topAngle: - topAngle\r\n    },\r\n    x: 0,\r\n    y: height,\r\n    topAngle,\r\n    effect,\r\n    tick(p) {\r\n      const value = Math.sqrt(p, 2);\r\n      this.y = this.origin.y + this.distance.y * value;\r\n      this.topAngle = this.origin.topAngle + this.distance.topAngle * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  return [t1, t2, t3];\r\n}\r\n\r\n  export default generate;","import { Triangle } from \"../../src/shapes/triangle\";\r\nimport { global, colors, effects } from \"../variable\";\r\nimport { randomIn, randomInDouble } from \"../../src/util\";\r\n\r\nconst getLength = randomIn(150, 400);\r\nconst getAngle = randomInDouble((Math.PI / 180) * 10, (Math.PI / 180) * 20);\r\nconst getDuration = randomIn(5000, 15000);\r\nfunction getColor() {\r\n  return colors[randomIn(0, colors.length - 1)()];\r\n}\r\nfunction getEffect() {\r\n  return effects.triangle[randomIn(0, effects.triangle.length - 1)()];\r\n}\r\n\r\nfunction generate() {\r\n  // const length = getLength();\r\n  const length = 500;\r\n  const topAngle = (Math.PI / 180) * 120;\r\n  const color = getColor();\r\n  const start = performance.now();\r\n  // const duration = getDuration();\r\n  const duration = 19000;\r\n  const effect = 'source-over';\r\n  const height = ((1 / 2) * length) / Math.tan((1 / 2) * topAngle);\r\n\r\n  const t1 = new Triangle({\r\n    length,\r\n    color,\r\n    rotate: (Math.PI / 180) * 112.5,\r\n    distance: {\r\n      y: -global.length / Math.cos(Math.PI / 180 * 22.5) - height,\r\n      topAngle: -topAngle,\r\n    },\r\n    x: 0,\r\n    y: height,\r\n    topAngle,\r\n    effect,\r\n    tick(p) {\r\n      const value = Math.sqrt(p, 2);\r\n      this.y = this.origin.y + this.distance.y * value;\r\n      this.topAngle = this.origin.topAngle + this.distance.topAngle * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  const t2 = new Triangle({\r\n    length,\r\n    color,\r\n    distance: {\r\n      y: -global.length / Math.cos(Math.PI / 180 * 22.5) - height,\r\n      topAngle: -topAngle,\r\n    },\r\n    x: 0,\r\n    y: height,\r\n    rotate: (Math.PI / 180) * 157.5,\r\n    topAngle,\r\n    effect,\r\n    tick(p) {\r\n      const value = Math.sqrt(p, 2);\r\n      this.y = this.origin.y + this.distance.y * value;\r\n      this.topAngle = this.origin.topAngle + this.distance.topAngle * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  return [t1, t2];\r\n}\r\n\r\nexport default generate;\r\n","import { Circle } from \"../../src/shapes/circle\";\r\nimport { global, colors, effects } from \"../variable\";\r\nimport { randomIn } from \"../../src/util\";\r\n\r\nconst getRadius = randomIn(800, 1500);\r\nconst getDuration = randomIn(5000, 15000);\r\nfunction getColor() {\r\n  return colors[randomIn(0, colors.length - 1)()];\r\n}\r\nfunction getEffect() {\r\n  const index = randomIn(0, effects.circle.length - 1)();\r\n  return effects.circle[index];\r\n}\r\n\r\nfunction generate() {\r\n  const radius = getRadius();\r\n  const color = getColor();\r\n  const start = performance.now();\r\n  const duration = getDuration();\r\n  const effect = getEffect();\r\n\r\n  const t1 = new Circle({\r\n    radius,\r\n    color,\r\n    effect,\r\n    distance: {\r\n      y: global.length + radius * 2,\r\n    },\r\n    x: 0,\r\n    y: -radius,\r\n    tick(p) {\r\n      const value = Math.pow(p, 2);\r\n      this.y = this.origin.y + this.distance.y * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  const t2 = new Circle({\r\n    radius,\r\n    color,\r\n    effect,\r\n    distance: {\r\n      x: global.length + radius * 2,\r\n      y: global.length + radius * 2,\r\n    },\r\n    x: -radius,\r\n    y: -radius,\r\n    tick(p) {\r\n      const value = Math.pow(p, 2);\r\n      this.x = this.origin.x + this.distance.x * value;\r\n      this.y = this.origin.y + this.distance.y * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  const t3 = new Circle({\r\n    radius,\r\n    color,\r\n    effect,\r\n    distance: {\r\n      x: global.length + radius * 2,\r\n    },\r\n    x: -radius,\r\n    y: 0,\r\n    tick(p) {\r\n      const value = Math.pow(p, 2);\r\n      this.x = this.origin.x + this.distance.x * value;\r\n    },\r\n    start,\r\n    duration,\r\n  });\r\n\r\n  return [t1, t2, t3];\r\n}\r\n\r\nexport default generate;\r\n","import { App } from \"../src/index.js\";\r\nimport { global } from \"./variable\";\r\nimport triangleGenerator from \"./layers/layer_triangle\";\r\nimport triangleGenerator2 from \"./layers/layer_triangle2\";\r\nimport circleGenerator from \"./layers/layer_circle\";\r\n\r\nconst app = new App({\r\n  length: global.length,\r\n  // remain: true,\r\n  container: document.querySelector(\"#container\"),\r\n});\r\n\r\n// if you want to every loop haw the same behavior, make sure the attrubute \"duration\" and \"start\" of different shapes have the same value\r\nsetInterval(() => {}, 2000);\r\n\r\nsetInterval(() => {\r\n  app.add(...triangleGenerator());\r\n  app.add(...triangleGenerator2());\r\n  app.add(...circleGenerator());\r\n}, 500);\r\n\r\napp.run();\r\n"]}